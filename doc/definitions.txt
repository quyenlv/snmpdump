

NMRG                                                    G. van den Broek
Internet-Draft                                      University of Twente
Expires: May 9, 2008                                           M. Harvan
                                                              ETH Zurich
                                                                 A. Pras
                                                    University of Twente
                                                        J. Schoenwaelder
                                                Jacobs University Bremen
                                                        November 9, 2007


                    SNMP Trace Analysis Definitions
             draft-irtf-nmrg-snmp-trace-definitions-00.txt

Status of this Memo

   This document is an Internet-Draft and is subject to all provisions
   of section 3 of RFC 3667.  By submitting this Internet-Draft, each
   author represents that any applicable patent or other IPR claims of
   which he or she is aware have been or will be disclosed, and any of
   which he or she become aware will be disclosed, in accordance with
   RFC 3668.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on May 9, 2008.

Copyright Notice

   Copyright (C) The Internet Society (2007).

Abstract

   The Network Management Research Group (NMRG) started an activity to
   collect traces of the Simple Network Management Protocol (SNMP) from



van den Broek, et al.     Expires May 9, 2008                   [Page 1]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


   operational networks.  To analyze these traces, it is necessary to
   split potentially large traces into more manageable pieces that also
   make it easier to deal with large data sets and simplify the analysis
   of the data.

   This document provides some common definitions that have been found
   useful for implementing tools to support trace analysis.  This
   document mainly serves as a reference for the the definitions
   underlying these tools and it is not meant to explain all the
   motivation and resoning behind the definitions.  Some of this
   background information can be found in other research papers.

Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Message Flows  . . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  FLow Slices  . . . . . . . . . . . . . . . . . . . . . . . . .  6
   4.  Slice Sets . . . . . . . . . . . . . . . . . . . . . . . . . .  7
   5.  Walks  . . . . . . . . . . . . . . . . . . . . . . . . . . . .  8
   6.  Security Considerations  . . . . . . . . . . . . . . . . . . .  9
   7.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 10
   8.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 11
   8.1   Normative References . . . . . . . . . . . . . . . . . . . . 11
   8.2   Informative References . . . . . . . . . . . . . . . . . . . 11
       Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . 11
       Intellectual Property and Copyright Statements . . . . . . . . 13

























van den Broek, et al.     Expires May 9, 2008                   [Page 2]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


1.  Introduction

   The Network Management Research Group (NMRG) started an activity to
   collect traces of the Simple Network Management Protocol (SNMP)
   [RFC3410] from operational networks.  To analyze these traces, it is
   necessary to split potentially large traces into more manageable
   pieces that also make it easier to deal with large data sets and
   simplify the analysis of the data.

   This document provides some common definitions that have been found
   useful for implementing tools to support trace analysis.  This
   document mainly serves as a reference for the the definitions
   underlying these tools and it is not meant to explain all the
   motivation and resoning behind the definitions.  Some of this
   background information can be found in other research papers.

   More information and the motivation for SNMP trace collection and
   analysis can be found in RFC XXXX [ID-IRTF-NMRG-SNMP-MEASURE-01].

































van den Broek, et al.     Expires May 9, 2008                   [Page 3]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


2.  Message Flows

   Notation: Let M be a message of an SNMP trace T.  We denote the
   properties of M as follows:

      M.type    = operation type of message M (get, getnext, ...)
      M.class   = class of message M (according RFC 3411)
      M.tsrc    = transport layer source endpoint of message M
      M.tdst    = transport layer destination endpoint of message M
      M.nsrc    = network layer source endpoint of message M
      M.ndst    = network layer destination endpoint of message M
      M.reqid   = request identifier of message M
      M.time    = capture timestamp of message M

   Definition (command messages): The set of command messages of an SNMP
   trace T consists of all messages M in T satisfying the following
   conditions:

   (C1)  M is a Read class [RFC3411] message or
   (C2)  M is a Write class [RFC3411] messages or
   (C3)  M is a Response class [RFC3411] messages and there exists a
         Read class or Write class message R such that the following
         holds:

   	  M.reqid = R.reqid
   	  M.tdst  = R.tsrc
   	  M.nsrc  = R.ndst
   	  (M.time - R.time) < t

   The parameter t defines a maximum timeout for response messages.

   Definition (notification messages): The set of notification messages
   of an SNMP trace T consists of all messages M in T satisfying the
   following conditions:

   (N1)  M is a Notfication class [RFC3411] message or
   (N2)  M is a Response class [RFC3411] message and there exists a
         Notification class [RFC3411] message R such that the following
         holds:

   	  M.reqid = R.reqid
   	  M.tdst  = R.tsrc
   	  M.nsrc  = R.ndst
   	  (M.time - R.time) < t

   The parameter t defines a maximum timeout for response messages.





van den Broek, et al.     Expires May 9, 2008                   [Page 4]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


   Definition (flow): A flow F is the set of messages of an SNMP trace T
   with the following properties:

   (F1)  All messages belong to a single source and destination network
         address pair.
   (F2)  All messages are either command group messages, notification
         group messages, or internal group messages.
   (F3)  All Response class messages originate from a single network
         address.
   (F4)  All non-Response class messages originate from a single network
         address.

   Subsequently, we call flows containing command messages command
   flows.  Similarily, we call flows containing notification messages
   notification flows.

   Notation: Let F be a flow as defined above.  We denote the properties
   of F as follows:

      F.type    = type of the flow F (command / notification / internal flow)
      F.nsrc    = network layer source endpoint of F
      F.ndst    = network layer destination endpoint of F
      F.start   = time stamp of the first message in F
      F.end     = time stamp of the last message in F

   This definition of a flow is consistent with the definition of a flow
   in the paper [SPHSM07].
























van den Broek, et al.     Expires May 9, 2008                   [Page 5]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


3.  FLow Slices

   Definition (linked): A Response/GetNext or Response/GetBulk message
   pair is linked if the following holds:

   (L1)  The request message (GetNext or GetBulk) must contain at least
         one OID which has been contained in the (repeater) varbind list
         of the last response message of a previous request message.

   Definition (slice): A slice S is a subset of messages in a flow F for
   which the following properties hold:

   (S1)  All messages are exchanged between two transport endpoints (a
         single transport address pair).
   (S2)  All request messages must be of the same type.
   (S3)  All Get, Set, Trap, Inform messages must contain the same set
         of OIDs.
   (S4)  All Response messages must follow a previous request message
         that is part of the same slice.
   (S5)  All GetNext or GetBulk message must either contain the same set
         of OIDs or they must be linked to the last response of the
         previous request.
   (S6)  For a request message Q following the last response message R
         to the previous request, the condition (Q.time - R.time) < e is
         true.

   Notation: A slice S has several properties.  We introduce the
   following notation:

      S.type   = type of non-response messages in S
      S.start  = time stamp of the first message in S
      S.end    = time stamp of the last message in S
      S.prefix = set of prefixes of messages in S /* [TODO] */


















van den Broek, et al.     Expires May 9, 2008                   [Page 6]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


4.  Slice Sets


















































van den Broek, et al.     Expires May 9, 2008                   [Page 7]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


5.  Walks

   Definition (walk): A walk W is a slice S with the following
   properties:

   (W1)  The type of the slice S is either get-next-request or
         get-bulk-request.
   (W2)  ...











































van den Broek, et al.     Expires May 9, 2008                   [Page 8]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


6.  Security Considerations


















































van den Broek, et al.     Expires May 9, 2008                   [Page 9]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


7.  Acknowledgements

   This document was influenced by discussions within the Network
   Management Research Group (NMRG).

   Part of this work was funded by the European Commission under grant
   FP6-2004-IST-4-EMANICS-026854-NOE.












































van den Broek, et al.     Expires May 9, 2008                  [Page 10]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


8.  References

8.1  Normative References

   [RFC3410]  Case, J., Mundy, R., Partain, D. and B. Stewart,
              "Introduction and Applicability Statements for Internet
              Standard Management Framework", RFC 3410, December 2002.

   [RFC3411]  Harrington, D., Presuhn, R. and B. Wijnen, "An
              Architecture for Describing Simple Network Management
              Protocol (SNMP) Management Frameworks", RFC 3411, December
              2002.

8.2  Informative References

   [ID-IRTF-NMRG-SNMP-MEASURE-01]
              Schoenwaelder, J., "An Architecture for Describing Simple
              Network Management Protocol (SNMP) Management Frameworks",
              ID draft-irtf-nmrg-snmp-measure-01.txt, Janury 2007.

   [SPHSM07]  Schoenwaelder, J., Pras, A., Harvan, M., Schippers, J. and
              R. van de Meent, "SNMP Traffic Analysis: Approaches,
              Tools, and First Results", IFIP/IEEE Integrated Management
              IM 2007, May 2007.


Authors' Addresses

   Gijs van den Broek
   University of Twente
   P.O. BOX 217
   7500 AE Enschede
   Netherlands

   Phone:
   EMail: j.g.vandenbroek@student.utwente.nl


   Matus Harvan
   ETH Zurich

   Phone:
   EMail: mharvan@inf.ethz.ch








van den Broek, et al.     Expires May 9, 2008                  [Page 11]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


   Aiko Pras
   University of Twente
   P.O. BOX 217
   7500 AE Enschede
   Netherlands

   Phone: +31 53 4893778
   EMail: a.pras@cs.utwente.nl


   Juergen Schoenwaelder
   Jacobs University Bremen
   Campus Ring 1
   28725 Bremen
   Germany

   Phone: +49 421 200-3587
   EMail: j.schoenwaelder@jacobs-university.de

































van den Broek, et al.     Expires May 9, 2008                  [Page 12]

Internet-Draft      SNMP Trace Analysis Definitions        November 2007


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2007).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




van den Broek, et al.     Expires May 9, 2008                  [Page 13]

